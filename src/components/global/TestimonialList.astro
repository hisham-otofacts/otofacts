---
import database from '@lib/clients/database';
export const partial = true;

const testimonials = await database.query.testimonial.findMany();
---

{
  testimonials.map((testimonial) => (
    <li>
      <figure class="relative h-full rounded-3xl bg-white p-6">
        <blockquote class="relative">
          <p class="text-base text-gray-500">{testimonial.quote}</p>
        </blockquote>
        <figcaption class="relative mt-6 flex items-center justify-between border-t border-gray-100 pt-6">
          <div>
            <div class="font-display text-lg font-semibold leading-6 text-black">{testimonial.name}</div>
            <div class="mt-1 text-sm text-gray-500">{testimonial.title}</div>
          </div>
          <div class="overflow-hidden rounded-full bg-gray-50">
            <img
              alt=""
              src={testimonial.imageSrc}
              width="56"
              height="56"
              decoding="async"
              data-nimg="future"
              class="h-14 w-14 object-cover"
              loading="lazy"
              style="color: transparent"
            />
          </div>
        </figcaption>
      </figure>
    </li>
  ))
}
@lib/clients/index @lib/clients/db @lib/clients/database
